version: 0.0.1

AppDir:
  path: AppDir
  
  app_info:
    id: org.videoteka.app
    name: Videoteka
    icon: videoteka
    version: 1.0.0
    exec: videoteka
    exec_args: $@

  files:
    exclude:
      - usr/lib/python*/site-packages/*/test
      - usr/lib/python*/site-packages/*/tests
      - usr/lib/python*/site-packages/pip
      - usr/lib/python*/site-packages/setuptools

  apt:
    arch: amd64
    sources:
      - sourceline: deb http://archive.ubuntu.com/ubuntu ${ubuntu_version} main
        key_url: http://keyserver.ubuntu.com/pks/lookup?op=get&fingerprint=on&search=0x3B4FE6ACC0B21F32
      - sourceline: deb http://archive.ubuntu.com/ubuntu ${ubuntu_version} universe
        key_url: http://keyserver.ubuntu.com/pks/lookup?op=get&fingerprint=on&search=0x3B4FE6ACC0B21F32
    
    include:
      - python3
      - python3-pip
      - libgl1-mesa-glx
      - libxkbcommon-x11-0
      - libxcb-xinerama0

  runtime:
    env:
      - name: PYTHONUNBUFFERED
        value: "1"

AppImage:
  update-information: none
  sign-key: none
  files:
    exclude:
      - python
      - "*.pyc"
      - "*/__pycache__/*"

script:
  - bash build_appimage_script.sh

